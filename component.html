<!DOCTYPE html>
<html>
  <head>
      <script src="https://fb.me/react-0.13.3.min.js"></script>
      <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
      <title>React Components</title>
  </head>
  <body>
  <div id="react-container"></div>
  <script type="text/jsx">
  var Box = React.createClass( {
        getDefaultProps: function() {
           return {
              colorIndex: -1
           }
        },

        getInitialState: function() {
           return {
                backgroundColor: "blue",
                height: 200,
                width: 200
            }
        },

        update: function() {
           this.setProps({colorIndex: this.props.colorIndex + 1});
        },

        componentWillReceiveProps: function(colors) {
            var color = this.props.colors.split(', ')[colors.colorIndex];
            if (!color) {
                this.setProps({colorIndex: 0})
            }
            this.setState({backgroundColor: color});
        },


        // componentWillMount: function() {
        //     alert("component is about to mount");
        // },
        // componentDidMount: function() {
        //     alert('component has mounted')
        // },
        render: function() {
            return <div style={this.state} onClick={this.update}></div>;
        }
    });

    React.render(<Box colors="Red, DarkMagenta, Salmon, Chartreuse"/>, document.body);

    // var getRidOfBox = document.getElementsByTagName('div')[0];
    // getRidOfBox.onclick = function() {
    //     React.unmountComponentAtNode(document.body);
    //     alert("component is unmounted")
    // }
    // var MyComponent = React.createClass({
    //   render: function() {
    //     return <div><h1>{this.props.text}</h1>
    //            <p>{this.props.children}</p></div>;
    //   }
    // });

    // React.render(<div>
    //   <MyComponent text="Hello World"> This is a hello</MyComponent>
    //   <MyComponent text="How Are You"> This Is how are you</MyComponent>
    //   <MyComponent text="Good Bye"> This is Good Bye</MyComponent></div>, document.getElementById('react-container'));
  </script>
  </body>
</html>